"use strict";(self["webpackChunkinterview_web"]=self["webpackChunkinterview_web"]||[]).push([[928],{1928:function(e,t,s){s.r(t),s.d(t,{default:function(){return U}});s(817);var a=s(9997),n=s(926),l=s(8618),o=s(3230),r=function(e,t,s,a){var n,l=arguments.length,o=l<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,s,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(l<3?n(o):l>3?n(t,s,o):n(t,s))||o);return l>3&&o&&Object.defineProperty(t,s,o),o};class c extends o.Z{postMessage(e){return this._post("/api/chat",{message:e})}getMessage(){return this._get("/api/chat/query")}}r([(0,l.Z)("query",{title:"发送消息给ChatGPT",showErrorMsg:!1,showTip:!1})],c.prototype,"postMessage",null),r([(0,l.Z)("query",{title:"获取ChatGPT对话内容",showErrorMsg:!1,showTip:!1})],c.prototype,"getMessage",null);const i=n.g.get(c);var u=i,g=s(9159),p=s(1843);const v={class:"interview"},m={class:"code"},d=(0,a._)("div",{class:"coder"},null,-1),f={class:"toolbar"},w={class:"tool-list"},_=["src"],h=["src"],b=["src"],y=["src"],M={class:"communicate"},x={class:"message-box"},P={class:"time"},T={class:"content"},k=(0,a._)("div",{class:"avatar"},null,-1),C={class:"message"},G={class:"send-box"};var W=(0,a.aZ)({__name:"index",setup(e){const t=s(2717),n=s(1848),l=s(7080),o=s(5902),r=(0,g.L)(),c=(0,a.iH)(""),i=new webkitSpeechRecognition||new SpeechRecognition;i.continuous=!0,i.lang="en-GB",console.log(i);const W=(0,a.iH)([]),S=e=>{e.preventDefault(),W.value.push({target:"user",message:c.value,time:"11:01 AM",name:"Andrew"}),u.postMessage(c.value).then((e=>{if(1===e.code){let e=setInterval((async()=>{let t=await u.getMessage();1===t.code&&""!==t.data&&null!==t.data&&(clearInterval(e),W.value.push({target:"GPT",message:t.data,time:"11:01 AM",name:"Chat GPT"}))}),1e3)}})),c.value=""};return i.onresult=function(e){c.value=e.results[0][0].transcript},(0,a.bv)((()=>{""!==r.username&&void 0!==r.username||p.Z.push({name:"login"}),i.start(),i.continuous=!0,setTimeout((()=>{i.stop(),i.continuous=!1}),5e3)})),(e,s)=>{const r=(0,a.up)("a-button"),i=(0,a.up)("a-textarea");return(0,a.wg)(),(0,a.iD)("article",v,[(0,a._)("section",m,[d,(0,a._)("div",f,[(0,a._)("div",w,[(0,a.Wm)(r,{class:"tool-btn"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:(0,a.SU)(t)},null,8,_)])),_:1}),(0,a.Wm)(r,{class:"tool-btn"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:(0,a.SU)(n)},null,8,h)])),_:1}),(0,a.Wm)(r,{class:"tool-btn"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:(0,a.SU)(l)},null,8,b)])),_:1}),(0,a.Wm)(r,{class:"tool-btn"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:(0,a.SU)(o)},null,8,y)])),_:1})]),(0,a.Wm)(r,{class:"end-btn"},{default:(0,a.w5)((()=>[(0,a.Uk)(" End Call ")])),_:1})])]),(0,a._)("section",M,[(0,a._)("div",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(W.value,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,a.C_)(["message-item",{left:"GPT"===e.target},{right:"user"===e.target}])},[(0,a._)("div",P,(0,a.zw)("GPT"===e.target?e.name:"")+" "+(0,a.zw)(e.time),1),(0,a._)("div",T,[k,(0,a._)("div",C,(0,a.zw)(e.message),1)])],2)))),128))]),(0,a._)("div",G,[(0,a.Wm)(i,{value:c.value,"onUpdate:value":s[0]||(s[0]=e=>c.value=e),placeholder:"Write your message....",onPressEnter:S},null,8,["value"])])])])}}});const S=W;var U=S},2717:function(e,t,s){e.exports=s.p+"static/img/audio.20aa04da.svg"},1848:function(e,t,s){e.exports=s.p+"static/img/camera.842449c3.svg"},5902:function(e,t,s){e.exports=s.p+"static/img/comment.28580b5a.svg"},7080:function(e,t,s){e.exports=s.p+"static/img/sound.9613ef2b.svg"}}]);